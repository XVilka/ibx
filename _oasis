OASISFormat:     0.3
OCamlVersion:    >= 3.12
Name:            ibx
Version:         0.5.2
Synopsis:        OCaml implementation of the Interactive Brokers TWS API
Description:     IBX is a pure OCaml implementation of the Interactive Brokers
                 Trader Workstation API (TWS API) built on top of Jane Street's
                 Core and Async library.
Authors:         Oliver Gu <gu.oliver@yahoo.com>
License:         LGPL-2.1+ with OCaml linking exception
OCamlVersion:    >= 3.12
FindlibVersion:  >= 1.3.1
Homepage:        https://bitbucket.org/ogu/ibx
Plugins:         META (0.3), StdFiles (0.3), DevFiles (0.3)
XStdFilesREADME: false
BuildTools:      ocamlbuild, ocamldoc
PostDistcleanCommand: $rmdir ibx.log

Library ibx
  Path:          lib
  FindlibName:   ibx
  Pack:          true
  Modules:       Config,
                 Std_internal,
                 Send_tag,
                 Recv_tag,
                 Tws_prot,
                 Twsable,
                 Pickable,
                 Unpickable,
                 Query_intf,
                 Submit_order,
                 Execution_id,
                 Query,
                 Response_intf,
                 Response,
                 Symbol,
                 Exchange,
                 Currency,
                 Price,
                 Account_code,
                 Raw_contract_intf,
                 Raw_contract,
                 Contract,
                 Raw_order_intf,
                 Raw_order,
                 Order,
                 Ib,
                 Tws_reqs,
                 Tws,
                 Client_id,
                 Client_intf,
                 Std
  BuildDepends:  core (>= 109.07.00),
                 async,
                 sexplib.syntax,
                 fieldslib.syntax,
                 threads,
                 str

# Tests

Executable test_runner
  Path:             lib_test
  MainIs:           test_runner.ml
  Install:          false
  BuildDepends:     ibx, core_extended
  CompiledObject:   best

Test test_runner
  Run$:             flag(tests)
  Command:          $test_runner
  WorkingDirectory: lib_test

# Documentation

Document API
  Title:                API reference for IBX
  Type:                 Ocamlbuild (0.3)
  Install:              true
  InstallDir:           $docdir/api
  BuildTools:           ocamldoc
  XOCamlbuildPath:      .
  XOCamlbuildLibraries: ibx
